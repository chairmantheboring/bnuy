title: Welcome to bnuyOS!
properties:
  mode: "run-on-change"
screens:
  first-screen:
    source: yafti.screen.title
    values:
      title: "Welcome to bnuyOS!"
      icon: "/usr/share/pixmaps/system-logo.png"
      description: |
        This guided installer will help you get started with your new system.

  can-we-modify-your-flatpaks:
    source: yafti.screen.consent
    values:
      title: Flathub setup
      description: |
        This step will remove all Fedora and Flathub Flatpaks from your system and replace them with Flathub's repository. It will not reinstall your flatpaks. It will also disable the system flatpaks in favor of user flatpaks.
      actions:
        - run: flatpak remote-delete --system --force fedora
        - run: flatpak remote-delete --user --force fedora
        - run: flatpak remove --system --noninteractive --all
        - run: flatpak remote-add --if-not-exists --user flathub https://flathub.org/repo/flathub.flatpakrepo
        - run: flatpak remote-add --if-not-exists --system flathub https://flathub.org/repo/flathub.flatpakrepo
        #- run: flatpak override --system --filesystem=xdg-config/gtk-3.0:ro

  applications:
    source: yafti.screen.package
    values:
      title: Application Installer
      show_terminal: true
      package_manager: yafti.plugin.flatpak
      package_manager_defaults:
        user: true
        system: false
      groups:
        Browser:
          description: Browser applications
          default: false
          packages:
            - Firefox: org.mozilla.firefox
            - Tor Browser: org.torproject.torbrowser-launcher
            - Librewolf: io.gitlab.librewolf-community

        Games:
          description: Games applications.
          default: false
          packages:
            - Steam: com.valvesoftware.Steam

        Social:
          description: Social applications
          default: false
          packages:
            - Armcord: xyz.armcord.ArmCord
            - Nheko: io.github.NhekoReborn.Nheko

        Media:
          description: Social applications
          default: false
          packages:
            - MPV: io.mpv.Mpv
            - Freetube: io.freetubeapp.FreeTube

        System Apps:
          description: System applications for all desktop environments.
          default: true
          packages:
            - Flatseal (Permission Manager): com.github.tchx84.Flatseal
            - Gwenview (KDE image viewer): org.kde.gwenview
            - KeepassXC: org.keepassxc.KeePassXC
            - BreezeGTK: org.gtk.Gtk3theme.Breeze
            - ProtonVPN: com.protonvpn.www

        Office:
          description: Office applications.
          default: true
          packages:
            - OnlyOffice: org.onlyoffice.desktopeditors
            - Okular (KDE PDF reader): org.kde.okular

  final-screen:
    source: yafti.screen.title
    values:
      title: "All done!"
      icon: "/usr/share/pixmaps/system-logo.png"
      description: |
        Enjoy your experince!
